#!/bin/bash

./autogen.sh \
&& ./configure PYTHON=/usr/bin/python3 CXXFLAGS='-O1' \
&& cd Python \
&& /usr/bin/python3 setup.py wrap \
&& /usr/bin/python3 setup.py build \
&& /usr/bin/python3 setup.py test \
&& /usr/bin/python3 setup.py sdist bdist

# docker run --rm -ti -v /home/achilleas/Repos/QuantLib-SWIG/:/build -w /build lballabio/quantlib-swig-devenv:python3 ./.travis/python3.build